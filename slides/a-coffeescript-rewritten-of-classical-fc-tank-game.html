
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>A coffeescript rewritten of classical FC tank game - BenCao Blog</title>
	<meta name="author" content="Ben Cao">

	
	<meta name="description" content="Coffee Tank May 8th, 2013 @FW Game Basics The law of frame
Path finding
Enemy AI
User input handling
Scenes
Stage design and Tiled map
Tunning &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="BenCao Blog" type="application/atom+xml">
	
	<link rel="canonical" href="http://blog.bencao.it/slides/a-coffeescript-rewritten-of-classical-fc-tank-game.html">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- Deck.js -->
<!-- Style theme. Located in /themes/style/ or create your own. -->
<link rel="stylesheet" href="/stylesheets/deck.js/themes/style/web-2.0.css" type='text/css'>
<!-- Transition theme. Located in /themes/transition/ or create your own. -->
<link rel="stylesheet" href="/stylesheets/deck.js/themes/transition/fade.css" type='text/css'>

<script type="text/javascript" src="/javascripts/modernizr-2.0.js"></script>

</head>


<body>
	<div class="container">
		<div class="mid-col" style="width: 100%;">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
          <article role="article">
            <div class="deck-container">
              <div class='slide' id='first'><h1>Coffee Tank</h1>

<p>May 8th, 2013 @FW</p>
</div>




<div class='slide'><h2>Game Basics</h2>

<ul>
<li>The law of frame</li>
<li>Path finding</li>
<li>Enemy AI</li>
<li>User input handling</li>
<li>Scenes</li>
<li>Stage design and Tiled map</li>
<li>Tunning numbers</li>
<li>Tunning performance</li>
</ul>
</div>




<div class='slide'><h2>Others</h2>

<ul>
<li>Why I love Coffeescript more than Javascript</li>
<li>Unit Test and Continuous Integration</li>
</ul>
</div>




<div class='slide'><h2>The law of frame</h2>

<ul>
<li>FPS = frames per second</li>
<li>The higher the fps is, the smoother users feel</li>
<li>LCD screen refresh rate is 60Hz, so it&rsquo;s good enough to set our goal to 60 fps</li>
<li>less than 17ms per frame, but need to do calculation and redraw, challenge!</li>
</ul>
</div>




<div class='slide'><figure class='code'><figcaption><span>Tank Core Loop  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nv">start_time_line: </span><span class="p">()</span> <span class="nf">-&gt;</span>
</span><span class='line'>  <span class="nv">last_time = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>
</span><span class='line'>  <span class="vi">@timeline = </span><span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span>
</span><span class='line'>    <span class="nv">current_time = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>
</span><span class='line'>    <span class="c1"># assume a frame will never last more than 1 second</span>
</span><span class='line'>    <span class="nv">delta_time = </span><span class="nx">current_time</span><span class="p">.</span><span class="nx">getMilliseconds</span><span class="p">()</span> <span class="o">-</span> <span class="nx">last_time</span><span class="p">.</span><span class="nx">getMilliseconds</span><span class="p">()</span>
</span><span class='line'>    <span class="nx">delta_time</span> <span class="o">+=</span> <span class="mi">1000</span> <span class="k">if</span> <span class="nx">delta_time</span> <span class="o">&lt;</span> <span class="mi">0</span>
</span><span class='line'>    <span class="nx">_</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">@map</span><span class="p">.</span><span class="nx">missiles</span><span class="p">,</span> <span class="nf">(unit) -&gt;</span> <span class="nx">unit</span><span class="p">.</span><span class="nx">integration</span><span class="p">(</span><span class="nx">delta_time</span><span class="p">))</span>
</span><span class='line'>    <span class="nx">_</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">@map</span><span class="p">.</span><span class="nx">gifts</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">@map</span><span class="p">.</span><span class="nx">tanks</span><span class="p">),</span> <span class="nf">(unit) -&gt;</span> <span class="nx">unit</span><span class="p">.</span><span class="nx">integration</span><span class="p">(</span><span class="nx">delta_time</span><span class="p">))</span>
</span><span class='line'>    <span class="nx">_</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">@map</span><span class="p">.</span><span class="nx">missiles</span><span class="p">,</span> <span class="nf">(unit) -&gt;</span> <span class="nx">unit</span><span class="p">.</span><span class="nx">integration</span><span class="p">(</span><span class="nx">delta_time</span><span class="p">))</span>
</span><span class='line'>    <span class="nv">last_time = </span><span class="nx">current_time</span>
</span><span class='line'>    <span class="nx">@frame_rate</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class='line'>  <span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="mi">1000</span><span class="o">/</span><span class="nx">@fps</span><span class="p">))</span>
</span><span class='line'>  <span class="c1"># show frame rate</span>
</span><span class='line'>  <span class="vi">@frame_timeline = </span><span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span>
</span><span class='line'>    <span class="nx">@frame_rate_label</span><span class="p">.</span><span class="nx">setText</span><span class="p">(</span><span class="nx">@frame_rate</span> <span class="o">+</span> <span class="s">&quot; fps&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@frame_rate = </span><span class="mi">0</span>
</span><span class='line'>  <span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>
</div>




<div class='slide'><h2>Path finding</h2>

<ul>
<li>single source shortest path problem</li>
<li>Dijikstra and A*</li>
<li><a href="http://qiao.github.io/PathFinding.js/visual/">PathFinding.js</a> for more</li>
</ul>
</div>




<div class='slide'><h2>Enemy AI</h2>

<ul>
<li>Where to move</li>
<li>When to fire</li>
<li>Adjustable AI</li>
</ul>
</div>




<div class='slide'><figure class='code'><figcaption><span>Enemy AI  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="nv">next: </span><span class="nf">-&gt;</span>
</span><span class='line'>  <span class="c1"># move towards home</span>
</span><span class='line'>  <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">size</span><span class="p">(</span><span class="nx">@path</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</span><span class='line'>    <span class="nv">end_vertex = </span><span class="k">if</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nx">@map_unit</span><span class="p">.</span><span class="nx">iq</span>
</span><span class='line'>      <span class="nx">@map</span><span class="p">.</span><span class="nx">home_vertex</span>
</span><span class='line'>    <span class="k">else</span>
</span><span class='line'>      <span class="nx">@map</span><span class="p">.</span><span class="nx">random_vertex</span><span class="p">()</span>
</span><span class='line'>    <span class="vi">@path = </span><span class="nx">@map</span><span class="p">.</span><span class="nx">shortest_path</span><span class="p">(</span><span class="nx">@map_unit</span><span class="p">,</span> <span class="nx">@current_vertex</span><span class="p">(),</span> <span class="nx">end_vertex</span><span class="p">)</span>
</span><span class='line'>    <span class="nx">@next_move</span><span class="p">()</span>
</span><span class='line'>    <span class="nx">setTimeout</span><span class="p">((()</span> <span class="o">=&gt;</span> <span class="nx">@reset_path</span><span class="p">()),</span> <span class="mi">2000</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">2000</span><span class="p">)</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="nx">@next_move</span><span class="p">()</span> <span class="k">if</span> <span class="nx">@current_vertex</span><span class="p">().</span><span class="nx">equals</span><span class="p">(</span><span class="nx">@target_vertex</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># more chance to fire if can&#39;t move</span>
</span><span class='line'>  <span class="k">if</span> <span class="nx">@map_unit</span><span class="p">.</span><span class="nx">can_fire</span><span class="p">()</span> <span class="o">and</span> <span class="nx">@last_area</span> <span class="o">and</span> <span class="nx">@last_area</span><span class="p">.</span><span class="nx">equals</span><span class="p">(</span><span class="nx">@map_unit</span><span class="p">.</span><span class="nx">area</span><span class="p">)</span>
</span><span class='line'>    <span class="nx">@fire</span><span class="p">()</span> <span class="k">if</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.08</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="nx">@fire</span><span class="p">()</span> <span class="k">if</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.01</span>
</span><span class='line'>
</span><span class='line'>  <span class="vi">@last_area = </span><span class="nx">@map_unit</span><span class="p">.</span><span class="nx">area</span>
</span></code></pre></td></tr></table></div></figure>
</div>




<div class='slide'><h2>User input handling</h2>

<ul>
<li>the challenge is to transfer simulated input signals(by user) to digital input signals</li>
<li>remove noise such as press left and right together</li>
<li>tank user input is keyboard, which has 3 types of events: keyup, keydown, keypress</li>
</ul>
</div>




<div class='slide'><figure class='code'><figcaption><span>Input handling  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
</pre></td><td class='code'><pre><code class='coffeescript'><span class='line'><span class="k">class</span> <span class="nx">UserCommander</span> <span class="k">extends</span> <span class="nx">Commander</span>
</span><span class='line'>  <span class="nv">constructor: </span><span class="nf">(@map_unit, key_setting) -&gt;</span>
</span><span class='line'>    <span class="k">super</span><span class="p">(</span><span class="nx">@map_unit</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@key_map = </span><span class="p">{}</span>
</span><span class='line'>    <span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">code</span> <span class="k">of</span> <span class="nx">key_setting</span>
</span><span class='line'>      <span class="nx">@key_map</span><span class="p">[</span><span class="nx">code</span><span class="p">]</span> <span class="o">=</span> <span class="nx">key</span>
</span><span class='line'>    <span class="vi">@key_status = </span><span class="p">{</span>
</span><span class='line'>      <span class="nv">up: </span><span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nv">down: </span><span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nv">left: </span><span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nv">right: </span><span class="kc">false</span><span class="p">,</span>
</span><span class='line'>      <span class="nv">fire: </span><span class="kc">false</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nx">@reset_input</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">reset_input: </span><span class="p">()</span> <span class="nf">-&gt;</span> <span class="vi">@inputs = </span><span class="p">{</span> <span class="nv">up: </span><span class="p">[],</span> <span class="nv">down: </span><span class="p">[],</span> <span class="nv">left: </span><span class="p">[],</span> <span class="nv">right: </span><span class="p">[],</span> <span class="nv">fire: </span><span class="p">[]</span> <span class="p">}</span>
</span><span class='line'>  <span class="nv">is_pressed: </span><span class="nf">(key) -&gt;</span> <span class="nx">@key_status</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span>
</span><span class='line'>  <span class="nv">set_pressed: </span><span class="nf">(key, bool) -&gt;</span> <span class="nx">@key_status</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">bool</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">next: </span><span class="nf">-&gt;</span>
</span><span class='line'>    <span class="nx">@handle_key_up_key_down</span><span class="p">()</span>
</span><span class='line'>    <span class="nx">@handle_key_press</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">handle_key_up_key_down: </span><span class="p">()</span> <span class="nf">-&gt;</span>
</span><span class='line'>    <span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">types</span> <span class="k">of</span> <span class="nx">@inputs</span>
</span><span class='line'>      <span class="k">continue</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isEmpty</span><span class="p">(</span><span class="nx">types</span><span class="p">)</span>
</span><span class='line'>      <span class="k">switch</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span>
</span><span class='line'>        <span class="k">when</span> <span class="s">&quot;fire&quot;</span>
</span><span class='line'>          <span class="nx">@fire</span><span class="p">()</span>
</span><span class='line'>        <span class="k">when</span> <span class="s">&quot;up&quot;</span><span class="p">,</span> <span class="s">&quot;down&quot;</span><span class="p">,</span> <span class="s">&quot;left&quot;</span><span class="p">,</span> <span class="s">&quot;right&quot;</span>
</span><span class='line'>          <span class="k">if</span> <span class="nx">@direction_changed</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
</span><span class='line'>            <span class="nx">@turn</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
</span><span class='line'>            <span class="k">break</span>
</span><span class='line'>          <span class="nv">keyup = </span><span class="nx">_</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">@inputs</span><span class="p">[</span><span class="nx">key</span><span class="p">],</span> <span class="s">&quot;keyup&quot;</span><span class="p">)</span>
</span><span class='line'>          <span class="nv">keydown = </span><span class="nx">_</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">@inputs</span><span class="p">[</span><span class="nx">key</span><span class="p">],</span> <span class="s">&quot;keydown&quot;</span><span class="p">)</span>
</span><span class='line'>          <span class="k">if</span> <span class="nx">keydown</span>
</span><span class='line'>            <span class="nx">@start_move</span><span class="p">()</span>
</span><span class='line'>          <span class="k">else</span>
</span><span class='line'>            <span class="nx">@stop_move</span><span class="p">()</span> <span class="k">if</span> <span class="nx">keyup</span>
</span><span class='line'>    <span class="nx">@reset_input</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">handle_key_press: </span><span class="p">()</span> <span class="nf">-&gt;</span>
</span><span class='line'>    <span class="k">for</span> <span class="nx">key</span> <span class="k">in</span> <span class="p">[</span><span class="s">&quot;up&quot;</span><span class="p">,</span> <span class="s">&quot;down&quot;</span><span class="p">,</span> <span class="s">&quot;left&quot;</span><span class="p">,</span> <span class="s">&quot;right&quot;</span><span class="p">]</span>
</span><span class='line'>      <span class="k">if</span> <span class="nx">@is_pressed</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">@turn</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">@start_move</span><span class="p">()</span>
</span><span class='line'>    <span class="k">if</span> <span class="nx">@is_pressed</span><span class="p">(</span><span class="s">&quot;fire&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="nx">@fire</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">add_key_event: </span><span class="nf">(type, key_code) -&gt;</span>
</span><span class='line'>    <span class="k">return</span> <span class="kc">true</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">@key_map</span><span class="p">[</span><span class="nx">key_code</span><span class="p">])</span>
</span><span class='line'>    <span class="nv">key = </span><span class="nx">@key_map</span><span class="p">[</span><span class="nx">key_code</span><span class="p">]</span>
</span><span class='line'>    <span class="k">switch</span> <span class="nx">type</span>
</span><span class='line'>      <span class="k">when</span> <span class="s">&quot;keyup&quot;</span>
</span><span class='line'>        <span class="nx">@set_pressed</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">@inputs</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="s">&quot;keyup&quot;</span><span class="p">)</span>
</span><span class='line'>      <span class="k">when</span> <span class="s">&quot;keydown&quot;</span>
</span><span class='line'>        <span class="nx">@set_pressed</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">@inputs</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="s">&quot;keydown&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>
</div>




<div class='slide'><h2>Scenes</h2>

<ul>
<li>each scene should be designed as individual as possible</li>
<li>also need to provide a mechanism for scenes to share data</li>
</ul>


<p>Tank is seperated into</p>

<ul>
<li>welcome scene</li>
<li>stage scene</li>
<li>game scene</li>
<li>report scene</li>
<li>hi_score scene</li>
</ul>
</div>




<div class='slide'><h2>Stage design and Tiled map</h2>

<ul>
<li>It&rsquo;s possible to design stage by a few lines of code, ok for test but not good for human.</li>
<li>GUI tool helps. I found Tiled map.</li>
<li>Tiled map is an ecosystem which contains a 2D sprite based map format standard and a set of cross platform GUI tools and cross language map readers and writers.</li>
<li>Its json definition is so easy readable, tank read the json output directly.</li>
</ul>
</div>




<div class='slide'><p><img src="/images/posts/tiled_screen_capture.png" width="949" height="665"></p></div>




<div class='slide'><h2>Tunning numbers</h2>

<ul>
<li>Most numbers were borrowed from origin FC tank game</li>
<li>story about enemy tank IQ</li>
</ul>
</div>




<div class='slide'><h2>Tunning performance</h2>

<ul>
<li>Drawing Library is the most important factor to final performance</li>
<li>Improve path finding speed using binomial heap, 700ms to less than 50ms.</li>
</ul>
</div>




<div class='slide'><h2>Why I love Coffeescript more than Javascript</h2>

<ul>
<li>human friendly</li>
<li>easy and intuitive class inheritance</li>
<li>simpler array/hash iteration</li>
<li>@ instead of this</li>
<li>shorthand for function definition</li>
</ul>
</div>




<div class='slide'><h2>Unit Test and Continuous Integration</h2>

<p>You really should try the excellent CI tool <a href="https://travis-ci.org/">Travis-CI</a>. It support running unit tests in a variety of environments and is already seamlessly integrated with Github.</p>

<p>The unit test tool I used is QUnit.</p></div>




<div class='slide'><h2>Ideas and Questions?</h2></div>




<div class='slide'><h2>References</h2>

<ul>
<li><a href="http://gafferongames.com/game-physics/">Game Physics</a></li>
<li><a href="http://www.mapeditor.org/">Tiled Map</a></li>
<li><a href="http://kineticjs.com/">KineticJS</a></li>
<li><a href="http://coffeescript.org/">Coffeescript</a></li>
<li><a href="http://lodash.com/">LoDash</a></li>
<li><a href="http://qunitjs.com/">QUnit</a></li>
<li><a href="https://github.com/qiao/PathFinding.js">PathFindingJs</a></li>
<li><a href="http://www.gamengines.com/article-549.html">How to be a game programer</a></li>
</ul>
</div>



              <script src="/javascripts/lib/deck.js/deck.core.js" type="text/javascript"></script>
              
                <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
                <a href="#" class="deck-next-link" title="Next">&#8594;</a>
                <script src="/javascripts/lib/deck.js/deck.navigation.js" type="text/javascript"></script>
              

              
                <p class="deck-status">
                  <span class="deck-status-current"></span>
                  /
                  <span class="deck-status-total"></span>
                </p>
                <script src="/javascripts/lib/deck.js/deck.status.js" type="text/javascript"></script>
              

              
                <form action="." method="get" class="goto-form">
                  <label for="goto-slide">Go to slide:</label>
                  <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
                  <datalist id="goto-datalist"></datalist>
                  <input type="submit" value="Go">
                </form>
                <script src="/javascripts/lib/deck.js/deck.goto.js" type="text/javascript"></script>
              

              
                <a href="." title="Permalink to this slide" class="deck-permalink">#</a>
                <script src="/javascripts/lib/deck.js/deck.hash.js" type="text/javascript"></script>
              

              
                <script src="/javascripts/lib/deck.js/deck.menu.js" type="text/javascript"></script>
              

              

              <!-- Initialize the deck -->
              <script>
                $(function() {
                  $.deck('.slide');
                });
              </script>
            </div>
            &larr; Back to <a href="./index.html">Slides Index</a>

          </article>

          
        </div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - Ben Cao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'bencao-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






		</div>
	</div>
</body>
</html>
